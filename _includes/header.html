<header id="header">
    <div class="top-bar">
        <div class="container">
            <a class="navbar-brand" href="/index.html"><img src="/images/BioPerl-txt.png" alt="BioPerl logo"></a>
            <div class="pull-right">
                <ul class="social-share">
                    <li><a href="https://twitter.com/bioperl"><i class="fa fa-twitter"></i></a></li>
                    <li><a href="https://github.com/bioperl"><i class="fa fa-github"></i></a></li>
                    <li><a href="https://en.wikipedia.org/wiki/BioPerl"><i class="fa fa-wikipedia-w"></i></a></li>
                </ul>
            </div>
        </div>
    </div>
    <nav class="navbar navbar-inverse" role="banner">
        <div class="container">
            <div class="collapse navbar-collapse navbar-right">
                <!--
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">More <i class="fa fa-angle-down"></i></a>
                    <ul class="dropdown-menu">
                        <li><a href="/FAQ.html">FAQ</a></li>
                        <li><a href="/about.html">About This Site</a></li>
                    </ul>
                </li>
                -->
                <div id="custom-search-input">
                    <div class="input-group col-md-3">
                        <input type="text" class="form-control input-med" placeholder="Search" id="search-txt">
                        <span class="input-group-btn">
                            <button class="btn btn-info btn-med" type="button" id="search-btn">
                            <i class="glyphicon glyphicon-search"></i>
                            </button>
                        </span>
                    </div>
                <script type="text/javascript" src="/js/jquery-2.1.4.min.js"></script>
                <script type="text/javascript">
                // Search the _site/search.json file, created by the search.json Liquid template
                $("#search-btn").click(function(){
                    // getJSON() is asynchronous, do this to get its results 
                    $(document).bind('PrintResults', PrintResults)
                    var regex = new RegExp($("#search-txt").val(),"i");
                    // The JSON must be valid, otherwise this fails without an error
                    $.getJSON('search.json', function(data) {
                        var search_output = [];
                        $.each(data, function(key, val) {
                            if ( regex.test(val.content) || regex.test(val.title) ) {
                                search_output.push(val.title);
                            };
                        });
                        window.data = search_output;
                        $(document).trigger('PrintResults');
                    });
                    function PrintResults(evt) {
                        // window.open("search_results.html","_self");
                        console.log(window.data);
                    }
                });
                </script>
                </div>
            </div>
        </div>
    </nav>
</header>